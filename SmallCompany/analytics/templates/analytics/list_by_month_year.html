{% extends 'analytics/base.html' %}

{% block content %}
<div style="text-align: center; margin-left: 20%; margin-top:1%;width: 50%;">
    <center>
        {% if purchase_record.has_previous %}
            <span>
                <a href="?page={{ purchase_record.previouse_page_number }}">
                    <&nbsp;
                </a>
            </span>
        {% endif %}

        {% if fuel %}
            <strong>
                  <a href="">Purchase Records for {{fuel}}</a>
            </strong>
        {% else %}
         <strong>
              <a href="">Purchase Records of {{driver}}</a>
         </strong>
        {% endif %}
        {% if purchase_record.has_next %}
            <span>
                <a href="?page={{ purchase_record.next_page_number }}">
                    &nbsp;>
                </a>
            </span>
        {% endif %}
        {% if purchase_record %}
            {{ purchase_record }}
            <table border = "solid black 2px">
                {% if fuel %}
                    <tr>
                        <th style="text-align: center;">Serial Number</th>
                        <th style="text-align: center;">Driver</th>
                        <th style="text-align: center;">Dated (Month)</th>
                        <th style="text-align: center;">Dated (Year)</th>
                        <th style="text-align: center;">Total Spend ($)</th>
                        <th style="text-align: center;">Record Count For the Month</th>
                    </tr>
                {% else %}
                    <tr>
                        <th style="text-align: center;">Serial Number</th>
                        <th style="text-align: center;">Driver</th>
                        <th style="text-align: center;">Dated (Month)</th>
                        <th style="text-align: center;">Dated (Year)</th>
                        <th style="text-align: center;">Total Spend ($)</th>
                        <th style="text-align: center;">Record Count For the Month</th>
                    </tr>
                {% endif %}
                {% for records in purchase_record %}
                    {% if fuel %}
                        <tr>
                            <td>{{ forloop.counter }}</td>
                            <td>{{records.driver_id__name}}</td>
                            <td>{{records.month}}</td>
                            <td>{{records.year}}</td>
                            <td>{{records.total_spent| floatformat:"2"}}</td>
                            <td>{{records.record_count}}</td>
                        </tr>
                    {% else %}
                        <tr>
                            <td>{{ forloop.counter }}</td>
                            <td>{{records.fuel_type__name}}</td>
                            <td>{{records.month}}</td>
                            <td>{{records.year}}</td>
                            <td>{{records.total_spent| floatformat:"2"}}</td>
                            <td>{{records.record_count}}</td>
                        </tr>
                    {% endif %}
                {% endfor %}
            </table>
        {% else %}
            <strong>
                <a href="">No records found for driver {{driver.name}}.</a>
            </strong>
        {% endif %}
        {% if purchase_record.has_previous %}
            <span>
                <a href="?page={{ purchase_record.previouse_page_number }}">
                    <&nbsp;
                </a>
            </span>
        {% endif %}

        {% if fuel%}
            <strong>
                  <a href="">Purchase Records for {{fuel}}</a>
            </strong>
        {% else %}
         <strong>
              <a href="">Purchase Records of {{driver}}</a>
         </strong>
        {% endif %}
        {% if purchase_record.has_next %}
            <span>
                <a href="?page={{ purchase_record.next_page_number }}">
                    &nbsp;>
                </a>
            </span>
        {% endif %}
    </center>
    <br/>
    <strong>
        {% if driver %}
            To check other drivers' purchase records, click
            <a href="{% url 'analytics:DriverSpendView' %}">here</a>.
        {% else %}
            To check other fuel's purchase records, click
            <a href="{% url 'analytics:FuelSpendView' %}">here</a>.
        {% endif %}
    </strong>
    <center><strong>Or</strong></center>
    <strong>
        To check on other available stats click
        <a href="{% url 'analytics:AnalyticsView' %}">here</a>.
    </strong>
</div>
{% endblock content %}